apiVersion: v1
kind: Service
metadata:
  name: svc-postgres-13
  namespace: prod-01
  labels:
    node.role: datebase
  #annotations:
  #  service.beta.kubernetes.io/do-loadbalancer-enable-proxy-protocol: "true"
  #  service.beta.kubernetes.io/do-loadbalancer-size-slug: "lb-large"
  #  service.beta.kubernetes.io/do-loadbalancer-protocol: "tcp"

spec:
  selector:
    node.role: datebase
  type: LoadBalancer # NodePort or LoadBalancer
  externalTrafficPolicy: Cluster # expose or not on external ip Nodeport = Cluster or Local
  ports:
  - name: postgres-13-5432
    protocol: TCP
    port: 5432
    targetPort: 5432
    nodePort: 30050